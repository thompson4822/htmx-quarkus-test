- HTMX Out-of-Band Swaps: When performing Out-of-Band (OOB) swaps, ensure the server returns a single, valid HTML fragment. Wrap multiple OOB elements in an inert container (e.g., a <div>) to prevent parsing errors in the browser.
- Client-Side Form Resets: For a better user experience, automatically reset forms after a successful submission using the hx-on::after-request attribute.
- When checking for an HTMX request on the server, check for the explicit value of the HX-Request header (e.g., hxRequest == "true"). This is more robust than checking for null or blank values, which can be inconsistent across different environments and testing frameworks.
- Resource methods that serve both full pages and HTMX fragments must use the HX-Request header to differentiate the context. A standard request should render the full page template, while an HTMX request (where HX-Request is "true") should render the specific partial fragment.
- Document all HTMX-related resource methods using KDoc. The documentation must include a summary of the fragment's purpose and use custom tags (`@htmx-trigger`, `@htmx-target`, `@htmx-swap`) to detail the HTMX attributes involved.